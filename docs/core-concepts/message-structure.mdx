---
title: "Message Structure"
description: "A minimal, multi-modal structure for exchanging content"
---

A Message is how agents send and receive information in ACP. Messages consists of a sequence of ordered parts, forming complete, structured, multi-modal communications.

## Message Parts

| Attribute                  | Required | Description                                                               |
| :------------------------- | :------- | :------------------------------------------------------------------------ |
| `content_type`             | Yes      | MIME type (e.g., `text/plain`, `image/png`)                               |
| `content` OR `content_url` | Yes      | Content `inline` or via `URL`                                             |
| `content_encoding`         | No       | `"plain"`  (default) or `"base64"`                                        |
| `name`                     | No       | Makes this part an **Artifact**                                               |

## Artifacts

**Artifacts** are specialized MessageParts with a `name` attribute. They represent important outputs like:

- Attachments
- Citations
- Files
- Named results

## Examples

Messages are made of ordered parts. The order determines how content is presented or processed.

### Basic Text Message

```json
{
  "content_type": "text/plain",
  "content": "Hello, world!"
}
```

### Multi-modal Message with Image

```json
[
  {
    "content_type": "text/plain",
    "content": "This is a cute cat:"
  },
  {
    "content_type": "image/png",
    "content_url": "https://s3.example.com/12345678901234567890/image.png"
  },
  {
    "content_type": "text/plain",
    "content": "Would you like me to send more images of cats?"
  },
  {
    "name": "/sources/1.url",
    "content_type": "text/url",
    "content": "https://example.com/cat-facts"
  }
]
```

### Message with an Artifact

```json
[
  {
    "content_type": "text/plain",
    "content": "Here's the report you requested:"
  },
  {
    "name": "/report.pdf",
    "content_type": "application/pdf",
    "content_url": "https://example.com/report.pdf"
  }
]
```

## Content Delivery Methods

### Inline Content

Best for small, text-based, or simple data:

```json
{
  "content_type": "text/plain",
  "content": "Direct text content",
  "content_encoding": "plain" // Default if omitted
}
```

### Referenced Content (URL)

Best for larger files, external resources, or when inline embedding is impractical:

```json
{
  "content_type": "image/jpeg",
  "content_url": "https://example.com/image.jpg"
}
```

### Base64 Encoded Content

Best for binary data (images, documents) embedded directly:

```json
{
  "content_type": "image/png",
  "content": "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==",
  "content_encoding": "base64"
}
```

## Data Models

```python
class MessagePart(BaseModel):
    name: Optional[str] = None
    content_type: str
    content: Optional[str] = None
    content_encoding: Optional[Literal["plain", "base64"]] = "plain"
    content_url: Optional[AnyUrl] = None

    # Validation ensures either content or content_url is provided, but not both

class Artifact(MessagePart):
    name: str  # Name is required for Artifacts

class Message(BaseModel):
    parts: list[MessagePart]
```

<Note>`Artifacts` inherit all validation rules from `MessagePart` so they must also have either `content` or `content_url` (never both).</Note>


## Validation Rules

- Every part must have a `content_type`
- Parts must provide either `content` or `content_url` (not both)
- MessageParts with a `name` are Artifacts
- Parts are processed in order

## Common Content Types
Any valid MIME type can be used as content. Some common ones are:

- `text/plain`: Plain text content
- `image/png`, `image/jpeg`: Image content
- `application/json`: JSON data
- `application/pdf`: PDF documents
- `text/html`: HTML content

## Advanced Features

ACP supports extensibility through specialized content types:

- Schema validation via `application/json;schema=...`
- Special semantics for specific types (trajectories, tool calls, etc.)
- Custom metadata for application-specific needs
